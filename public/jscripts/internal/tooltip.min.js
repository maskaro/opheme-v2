
function Tooltip(a){this.marker_=a.marker;this.marker_id=a.marker_id;this.marker_type=a.marker_type;this.marker_sentiment=a.marker_sentiment;this.content_="<div class='bubble_individual'>"+a.content+"</div>";this.map_=a.marker.get("map");this.cssClass_=a.cssClass||null;this.newJobContainer=a.newJobContainer||null;this.setMap(this.map_);var b=this;var c=document.createElement("DIV");c.style.position="absolute";c.style.display="none";if(this.cssClass_){c.className+=this.cssClass_}if(this.marker_id){c.id=this.marker_id}this.div_=c;google.maps.event.addListener(b.marker_,"mouseover",function(){b.show()});google.maps.event.addListener(b.marker_,"mousedown",function(){b.show()});google.maps.event.addListener(b.marker_,"mouseout",function(){});google.maps.event.addListener(b.map_,"dragend",function(){b.draw()})}Tooltip.prototype=new google.maps.OverlayView();Tooltip.prototype.onAdd=function(){};Tooltip.prototype.draw=function(){var a=this.getProjection();var b=a.fromLatLngToContainerPixel(this.marker_.getPosition());this.div_.style.left=(b.x+25)+"px";this.div_.style.top=(b.y+25)+"px"};Tooltip.prototype.onRemove=function(){};Tooltip.prototype.hide=function(a){if(this.div_){if(!a){this._to=setTimeout(function(b){$(b.div_).fadeOut(400);setTimeout(function(c){$(c.div_).remove()},500,b);window.clearTimeout(b._to);b._to=null},2500,this);return this._to}else{if(this._to){window.clearTimeout(this._to);this._to=null}$(this.div_).fadeOut(400);setTimeout(function(b){$(b.div_).remove()},500,this)}}};Tooltip.prototype.show=function(){var b=this;if(b.div_){try{if(b._to){window.clearTimeout(b._to);b._to=null}b._to=b.hide();if($(b.div_).is(":visible")){return}b.div_.innerHTML=b.content_;b.map_.getDiv().parentNode.appendChild(b.div_);var d=(b.newJobContainer===true?$("#newJobContainer #job-preview").width():$("#job-preview").width());var a=(b.newJobContainer===true?$("#newJobContainer #job-preview").height():$("#job-preview").height());if(parseInt($(b.div_).css("left"))+$(b.div_).width()>d){$(b.div_).css("left",(d-$(b.div_).width()-parseInt($(b.div_).css("margin-left"))-5)+"px")}if(parseInt($(b.div_).css("top"))+$(b.div_).height()>a){$(b.div_).css("top",(a-$(b.div_).height()-parseInt($(b.div_).css("margin-top"))-5)+"px")}$("#"+b.marker_id+" .timeago").timeago();$("#"+b.marker_id+" .close-bubble").click(function(){b.hide(true)});$(b.div_).mouseenter(function(){window.clearTimeout(b._to);b._to=null}).mouseleave(function(){b.hide(true)});$(".bubble_individual .opheme-bubble-text").each(function(){var g=$(this),e=g.html();if(e.indexOf("/-/ Image:")>-1){var f=0;g.children("a").each(function(){var h=$(this).attr("href"),i=$(this);if(h.indexOf("opheme.com")>-1&&f===0){f++;i.tooltipster({content:$("<img src='"+h+"' style='max-width: 300px'>"),theme:"tooltipster-noir",animation:"fade",delay:200,position:"bottom-left",touchDevices:false,trigger:"hover",maxWidth:"300px"})}})}});$(b.div_).fadeIn()}catch(c){console.log(c)}}};Tooltip.prototype.appendContent=function(a){this.content_+="<div class='bubble_individual'>"+a+"</div>"};